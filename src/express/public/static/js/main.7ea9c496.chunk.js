(this["webpackJsonpgatcha-front"]=this["webpackJsonpgatcha-front"]||[]).push([[0],{16:function(e,t,c){},17:function(e,t,c){},18:function(e,t,c){},19:function(e,t,c){},22:function(e,t,c){"use strict";c.r(t);var n=c(1),i=c.n(n),a=c(9),s=c.n(a),r=(c(16),c(17),c(18),c(19),c(2)),l=c(3),d=c(11),o=c(0),u=function(e){var t=e.id,c=e.img,i=e.title,a=e.description,s=e.level,r=e.type,u=void 0===r?"basic":r,j=e.isFusion,b=void 0!==j&&j,f=e.className,h=void 0===f?"":f,v=Object(n.useState)({currentWidth:0,fontSize:"40px"}),O=Object(l.a)(v,2),p=O[0],m=O[1],x=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e=function(){x.current&&p.currentWidth!==x.current.clientWidth&&m({currentWidth:x.current.clientWidth,fontSize:"".concat(40*x.current.clientWidth/475,"px")})};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),Object(o.jsx)("div",{ref:x,className:"".concat(h," ").concat(u," card-container"),style:{fontSize:p.fontSize},children:Object(o.jsxs)("div",{className:"card",children:[Object(o.jsxs)("div",{className:"card-header",children:[b?Object(o.jsx)("div",{className:"card-fusion",children:"Fusion"}):null,Object(o.jsxs)("div",{className:"card-id",children:["#",t]})]}),Object(o.jsx)("div",{className:"card-img",style:{backgroundImage:'url("/images'.concat(c,'")')}}),Object(o.jsx)("div",{className:"card-title",children:i}),Object(o.jsx)("div",{className:"card-separator",children:Object(o.jsx)("div",{className:"card-line"})}),Object(o.jsx)("div",{className:"card-description",children:a}),Object(o.jsx)("div",{className:"card-stars",children:Object(d.a)(Array(s)).map((function(e,t){return Object(o.jsx)("div",{className:"card-star"},t)}))})]})})},j=c(5),b=["all","*","**","***","****"],f=function(e){var t=e.state,c=e.updateState,n=function(e,n){c(Object(r.a)(Object(r.a)({},t),{},Object(j.a)({},e,n)))};return Object(o.jsxs)("div",{className:"config",children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("span",{children:"Pr\xe9visualisation en or :"}),Object(o.jsx)("input",{type:"checkbox",checked:t.gold,onChange:function(){return n("gold",!t.gold)}})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("span",{children:"Filtrer par niveau :"}),Object(o.jsx)("select",{value:t.filterStars,onChange:function(e){return n("filterStars",e.target.value)},children:b.map((function(e,t){return Object(o.jsx)("option",{value:e,children:e},t)}))})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("span",{children:"Recherche :"}),Object(o.jsx)("input",{type:"text",onChange:function(e){return n("search",e.target.value)}})]})]})},h=function(e){var t,c=e.card,n=e.type,i=e.selectDependency,a=e.closeModal;return Object(o.jsxs)("div",{className:"card-modal",onClick:a,children:[Object(o.jsx)("div",{className:"card-modal-container",children:Object(o.jsx)(u,{type:n,className:"".concat(n," big scale-vertically"),id:c.id,img:c.imageName,title:c.name,description:c.description,level:c.level,isFusion:c.isFusion})}),(null===c||void 0===c||null===(t=c.fusionDependencies)||void 0===t?void 0:t.length)?Object(o.jsx)("div",{className:"card-modal-dependencies",children:c.fusionDependencies.map((function(e){return Object(o.jsx)("div",{onClick:function(t){t.stopPropagation(),i(e)},children:Object(o.jsx)(u,{type:n,className:"".concat(n," quarter scale-vertically"),id:e.id,img:e.imageName,title:e.name,description:e.description,level:e.level})})}))}):null]})},v=c(8),O=c.n(v),p=c(10),m=function(){var e=Object(p.a)(O.a.mark((function e(t){var c,n,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.filters,n=void 0===c?{}:c,i={method:"GET",headers:{Accept:"application/json"}},e.abrupt("return",new Promise((function(e,t){fetch("/cards?filters=".concat(encodeURI(JSON.stringify(n))),i).then((function(e){return e.json()})).then(e).catch(t)})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function x(){document.body.style.overflow="hidden"}var g=function(){var e=Object(n.useState)({gold:!1,filterStars:"all",search:""}),t=Object(l.a)(e,2),c=t[0],i=t[1],a=Object(n.useState)([]),s=Object(l.a)(a,2),d=s[0],j=s[1],b=Object(n.useState)(null),v=Object(l.a)(b,2),O=v[0],p=v[1];return Object(n.useEffect)((function(){m({filters:Object(r.a)(Object(r.a)({},"all"===c.filterStars?{}:{level:c.filterStars.length}),{},{search:c.search})}).then((function(e){j(e)}))}),[c.filterStars,c.search]),Object(o.jsxs)("div",{className:"app-container",children:[Object(o.jsx)(f,{state:c,updateState:i}),Object(o.jsx)("div",{className:"cards-container",children:d.map((function(e,t){return Object(o.jsx)("div",{onClick:function(){x(),p(e)},children:Object(o.jsx)(u,{className:"scale-horizontally quarter ".concat(c.gold?"gold":""),id:e.id,img:e.imageName,title:e.name,description:e.description,level:e.level,isFusion:e.isFusion,type:c.gold?"gold":"basic"})},t)}))}),O?Object(o.jsx)(h,{card:O,type:c.gold?"gold":"basic",selectDependency:function(e){x(),p(e)},closeModal:function(){document.body.style.overflow="auto",p(null)}}):null]})},N=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,23)).then((function(t){var c=t.getCLS,n=t.getFID,i=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),n(e),i(e),a(e),s(e)}))};s.a.render(Object(o.jsx)(i.a.StrictMode,{children:Object(o.jsx)(g,{})}),document.getElementById("root")),N()}},[[22,1,2]]]);
//# sourceMappingURL=main.7ea9c496.chunk.js.map