(this["webpackJsonpgatcha-front"]=this["webpackJsonpgatcha-front"]||[]).push([[0],{16:function(e,t,c){},17:function(e,t,c){},18:function(e,t,c){},19:function(e,t,c){},22:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),i=c(9),s=c.n(i),r=(c(16),c(17),c(18),c(19),c(2)),l=c(6),d=c(11),o=c(0),j=function(e){var t=e.id,c=e.img,n=e.title,a=e.description,i=e.level,s=e.type,r=void 0===s?"basic":s,l=e.className,j=void 0===l?"":l;return Object(o.jsxs)("div",{className:"".concat(j," ").concat(r," card"),children:[Object(o.jsxs)("div",{className:"card-id",children:["#",t]}),Object(o.jsx)("div",{className:"card-img",style:{backgroundImage:'url("/images'.concat(c,'")')}}),Object(o.jsx)("div",{className:"card-title",children:n}),Object(o.jsx)("div",{className:"card-separator",children:Object(o.jsx)("div",{className:"card-line"})}),Object(o.jsx)("div",{className:"card-description",children:a}),Object(o.jsx)("div",{className:"card-stars",children:Object(d.a)(Array(i)).map((function(e,t){return Object(o.jsx)("div",{className:"card-star"},t)}))})]})},u=c(4),b=["all","*","**","***","****"],f=function(e){var t=e.state,c=e.updateState,n=function(e,n){c(Object(r.a)(Object(r.a)({},t),{},Object(u.a)({},e,n)))};return Object(o.jsxs)("div",{className:"config",children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("span",{children:"Pr\xe9visualisation en or :"}),Object(o.jsx)("input",{type:"checkbox",checked:t.gold,onChange:function(){return n("gold",!t.gold)}})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("span",{children:"Filtrer par niveau :"}),Object(o.jsx)("select",{value:t.filterStars,onChange:function(e){return n("filterStars",e.target.value)},children:b.map((function(e,t){return Object(o.jsx)("option",{value:e,children:e},t)}))})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("span",{children:"Recherche :"}),Object(o.jsx)("input",{type:"text",onChange:function(e){return n("search",e.target.value)}})]})]})},h=function(e){var t,c=e.card,n=e.type,a=e.selectDependency,i=e.closeModal;return Object(o.jsxs)("div",{className:"card-modal",onClick:i,children:[Object(o.jsx)("div",{className:"card-modal-container",children:Object(o.jsx)(j,{type:n,className:"".concat(n," big"),id:c.id,img:c.imageName,title:c.name,description:c.description,level:c.level})}),(null===c||void 0===c||null===(t=c.fusionDependencies)||void 0===t?void 0:t.length)?Object(o.jsx)("div",{className:"card-modal-dependencies",children:c.fusionDependencies.map((function(e){return Object(o.jsx)("div",{onClick:function(t){t.stopPropagation(),a(e)},children:Object(o.jsx)(j,{type:n,className:"".concat(n," quarter"),id:e.id,img:e.imageName,title:e.name,description:e.description,level:e.level})})}))}):null]})},p=c(8),v=c.n(p),m=c(10),O=function(){var e=Object(m.a)(v.a.mark((function e(t){var c,n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.filters,n=void 0===c?{}:c,a={method:"GET",headers:{Accept:"application/json"}},e.abrupt("return",new Promise((function(e,t){fetch("/cards?filters=".concat(encodeURI(JSON.stringify(n))),a).then((function(e){return e.json()})).then(e).catch(t)})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function g(){document.body.style.overflow="hidden"}var x=function(){var e=Object(n.useState)({gold:!1,filterStars:"all",search:""}),t=Object(l.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)([]),s=Object(l.a)(i,2),d=s[0],u=s[1],b=Object(n.useState)(null),p=Object(l.a)(b,2),v=p[0],m=p[1];return Object(n.useEffect)((function(){O({filters:Object(r.a)(Object(r.a)({},"all"===c.filterStars?{}:{level:c.filterStars.length}),{},{search:c.search})}).then((function(e){u(e)}))}),[c.filterStars,c.search]),Object(o.jsxs)("div",{className:"app-container",children:[Object(o.jsx)(f,{state:c,updateState:a}),Object(o.jsx)("div",{className:"cards-container",children:d.map((function(e,t){return Object(o.jsx)("div",{onClick:function(){g(),m(e)},children:Object(o.jsx)(j,{className:"half ".concat(c.gold?"gold":""),id:e.id,img:e.imageName,title:e.name,description:e.description,level:e.level,type:c.gold?"gold":"basic"})},t)}))}),v?Object(o.jsx)(h,{card:v,type:c.gold?"gold":"basic",selectDependency:function(e){g(),m(e)},closeModal:function(){document.body.style.overflow="auto",m(null)}}):null]})},N=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,23)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),i(e),s(e)}))};s.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(x,{})}),document.getElementById("root")),N()}},[[22,1,2]]]);
//# sourceMappingURL=main.cc418dd4.chunk.js.map